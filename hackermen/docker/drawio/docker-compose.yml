version: '3.5'
services:
  drawio:
    image: jgraph/drawio
    container_name: drawio
    restart: unless-stopped
    ports:
      - 8123:80
    environment:
      PUBLIC_DNS: domain
      ORGANISATION_UNIT: unit
      ORGANISATION: org
      CITY: city
      STATE: state
      COUNTRY_CODE: country
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.freshrss.rule=Host(`draw.system.exposed`)"
      - "traefik.http.routers.freshrss.entrypoints=https"
      - "traefik.http.routers.freshrss.tls=true"
      - "traefik.http.services.freshrss.loadbalancer.server.port=80"
    networks:
      - proxy
networks:
  proxy:
    external: true


#    healthcheck:
#      test: ["CMD-SHELL", "curl -f http://domain:8080 || exit 1"]
#      interval: 1m30s
#      timeout: 10s
#      retries: 5
#      start_period: 10s